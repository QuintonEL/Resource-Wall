<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Taktivity</title>

    <link rel="icon"
    type="image/png"
    href="https://cdn4.iconfinder.com/data/icons/set-1/32/__29__8-512.png">

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script type="text/javascript" src="/vendor/jquery-3.0.0.js"></script>

    <link rel="stylesheet" href="/vendor/normalize-4.1.1.css" type="text/css" />
    <link rel="stylesheet" href="/vendor/border-box.css" type="text/css" />
    <link rel="stylesheet" href="/styles/layout.css" type="text/css" />
    <link rel="stylesheet" href="/styles/layout.scss" type="text/css" />

    <script type="text/javascript" src="/scripts/app.js"></script>
    <script type="text/javascript" src="/scripts/helperFunctions.js"></script>
    <script type="text/javascript" src="/scripts/jquerystyling.js"></script>
    <!-- JQUERY-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <%- include resource-modal.ejs %>
    <!-- Bootstrap -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

  </head>

  <body>
    <!-- Modal Signup -->
    <div class="modal fade" id="darkModalForm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
    aria-hidden="true">
      <div class="modal-dialog form-dark" role="document">
        <!--Content-->
        <div class="modal-content card card-image" style="background-image: url('https://images.unsplash.com/photo-1541701494587-cb58502866ab?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80');">
          <div class="text-white rgba-stylish-strong py-5 px-5 z-depth-4">
            <!--Header-->
            <div class="modal-header text-center pb-4">
              <h3 class="modal-title w-100 white-text font-weight-bold" id="myModalLabel"><strong>SIGN</strong> <a
                  class="green-text font-weight-bold"><strong> UP</strong></a></h3>
              <button type="button" class="close white-text" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <!--Body-->
            <form id="signUp" class="modal-body">
              <!--Body-->
              <div class="md-form mb-5">
                <input name="email" type="email" id="Form-email5" class="form-control validate white-text" required>
                <label data-error="wrong" data-success="right" for="Form-email5">Your email</label>
              </div>
              <div class="md-form pb-3">
                <input name="password" type="password" id="Form-pass5" class="form-control validate white-text" required>
                <label data-error="wrong" data-success="right" for="Form-pass5">Your password</label>
                <div class="form-group mt-4">
                  <input class="form-check-input" type="checkbox" id="checkbox624" required>
                  <label for="checkbox624" class="white-text form-check-label">Accept the<a href="#" class="green-text font-weight-bold">
                      Terms and Conditions</a></label>
                </div>
              </div>
              <!--Grid row-->
              <div class="row d-flex align-items-center mb-4">
                <!--Grid column-->
                <div class="text-center mb-3 col-md-12">
                  <button type="submit" class="btn btn-success btn-block btn-rounded z-depth-1">Sign up</button>
                </div>
                <!--Grid column-->
              </div>
              <!--Grid row-->
              <!--Grid row-->
              <div class="row">
                <!--Grid column-->
                <div class="col-md-12">
                  <p class="font-small white-text d-flex justify-content-end">Have an account? <a href="#" class="green-text ml-1 font-weight-bold">
                  Log in</a></p>
                </div>
                <!--Grid column-->
              </div>
              <!--Grid row-->
            </form>
                  <!-- Modal -->

          </div>
        </div>
        <!--/.Content-->
      </div>
    </div>
    <!-- Modal -->

    <div class="modal fade" id="darkModalForm-login" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
    aria-hidden="true">
      <div class="modal-dialog form-dark" role="document">
        <!--Content-->
        <div class="modal-content card card-image" style="background-image: url('https://images.unsplash.com/photo-1541701494587-cb58502866ab?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80');">
          <div class="text-white rgba-stylish-strong py-5 px-5 z-depth-4">
            <!--Header-->
            <div class="modal-header text-center pb-4">
              <h3 class="modal-title w-100 white-text font-weight-bold" id="myModalLabel-login"><strong>LOG</strong> <a
                  class="green-text font-weight-bold"><strong> IN</strong></a></h3>
              <button type="button" class="close white-text" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <!--Body-->
            <form id="login" class="modal-body">
              <!--Body-->
              <div class="md-form mb-5">
                <input name="email" type="email" id="Form-email5-login" class="form-control validate white-text" required>
                <label data-error="wrong" data-success="right" for="Form-email5">Your email</label>
              </div>
              <div class="md-form pb-3">
                <input name="password" type="password" id="Form-pass5-login" class="form-control validate white-text" required>
                <label data-error="wrong" data-success="right" for="Form-pass5">Your password</label>
              </div>
              <!--Grid row-->
              <div class="row d-flex align-items-center mb-4">
                <!--Grid column-->
                <div class="text-center mb-3 col-md-12">
                  <button type="submit" class="btn btn-success btn-block btn-rounded z-depth-1">Log In</button>
                </div>
                <!--Grid column-->
              </div>
              <!--Grid row-->
              <!--Grid row-->
              <div class="row">
                <!--Grid column-->
                <!--Grid column-->
              </div>
              <!--Grid row-->
            </form>
                  <!-- Modal -->

          </div>
        </div>
        <!--/.Content-->
      </div>
    </div>
    <div class="topnav">
      <a class="home" href="/">
        <img class="logo" src="./img/logo.png" alt="logo">
      </a>
      <!-- Search form -->
      <input id="myInput" class="search" type="text" onkeyup="searchResources()" placeholder="Search" name="q">
      <% if (userId) { %>
        <a id="modalBtn" href="/api/users/logout" class="btn btn-default btn-rounded" data-userid="<%= userId %>" >Logout</a>
        <span>Logged in As: <%=userInfo.email%></span>
        <% }else{ %>
        <a id="modalBtn-login" href="" class="btn btn-default btn-rounded" data-toggle="modal"
            data-target="#darkModalForm-login">Login</a>
        <a id="modalBtn" href="" class="btn btn-default btn-rounded" data-toggle="modal"
        data-target="#darkModalForm">Sign Up</a>
        <% } %>
      <a class="user" href="/myResources">
        <img id="userIcon" class="user"src="https://cdn2.iconfinder.com/data/icons/ios-7-icons/50/user_male2-512.png"alt="user">
      </a>
    </div>

    <
    <!-- Main Content -->

    <div class="masonry-wrapper">
      <div class="masonry">
        <%for (let i = 0; i < data.length; i++) {%>
        <div class="masonry-item">

          <div class="masonry-content" data-toggle="modal"
          data-target="#resourcemodal<%=[i]%>">
            <img src="<%=data[i].image_url%>" alt="Resource Topic">
            <a href="<%=data[i].url%>" target="_blank">
              <h3 class="masonry-title" onclick="event.stopPropagation()" ><%=data[i].title%></h3>
            </a>
            <h6><%=data[i].topic%></h6>
            <p class="masonry-description"><%=data[i].description%></p>
          </div>

        </div>

       <div id="resourcemodal<%=[i]%>" class="modal fade bd-example-modal-xl" tabindex="-1" role="dialog" aria-labelledby="myExtraLargeModalLabel" aria-hidden="true">
          <div class="modal-dialog modal-xl">
            <div class="modal-content">

                <img class="resource-image" src="<%=data[i].image_url%>" alt="Dummy Image" >
              <div class="dynamic-content">
                <a href="<%=data[i].url%>" target="_blank">
                  <h3 class="resource-title"><%=data[i].title%></h3>
                </a>
                <p class="resource-description"><%=data[i].description%></p>
              </div>

              <div class="interaction-container" >
                <div id="respond" >
                  <form action="post_comment.php" method="post" id="commentform">

                    <textarea class="comment-field" name="comment" id="comment" rows="3"
                    tabindex="4"  required="required" placeholder="Leave a comment!"></textarea>

                    <input type="hidden" name="comment_post_ID" value="1" id="comment_post_ID" />
                    <input name="submit" type="submit" value="Submit comment" />

                  </form>
                </div>
                  <div class="rating">
                    <span>☆</span><span>☆</span><span>☆</span><span>☆</span><span>☆</span>
                  </div>
                </div>
                  <button class="add-to-favorites" onclick="myFunction()"> Favorite this?</button>
              </div>
            </div>
          </div>

        <%}%>
    </div>
    <div class="masonry-footer">
      <p>Created with &#10084; with <a href="//w3bits.com/tools/masonry-generator/" target="_blank" rel="external noopener nofollow">CSS Masonry Generator</a></p>
    </div>
    </div>
   </body>
</html>
